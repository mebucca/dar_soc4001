<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Procesamiento avanzado de Bases de Datos en R</title>
    <meta charset="utf-8" />
    <meta name="author" content="  Mauricio Bucca  Profesor Asistente, Sociología UC" />
    <script src="libs/header-attrs-2.27/header-attrs.js"></script>
    <link rel="stylesheet" href="gentle-r.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Procesamiento avanzado de Bases de Datos en R
]
.subtitle[
## Manipulación de bases de datos con tidyverse
]
.author[
### <br> Mauricio Bucca<br> Profesor Asistente, Sociología UC
]
.date[
### <a href="https://github.com/mebucca">github.com/mebucca</a>
]

---





## Recapitulación
&lt;br&gt;

- Bases de datos ordenadas ("tidy")

- Datos "largos" y datos "anchos"

- Transformación entre datos largos y anchos


---

## Hoy hablaremos de ...
&lt;br&gt;

- Tratamiento de datos faltantes


---

class: center, middle

![](images/tidyverse_packs.png)


---

class: fullscreen, left, middle, text-black
background-image: url("images/typewriter.jpg")

.huge[#tidyr]

---

## tidyr: herramientas intuitivas para manipulación de datos

&lt;br&gt;

.pull-left[
  ![tidyr](images/tidyr.png)
]

.pull-right[
`tidyr` permite:

- obtener un bases de datos "tidy"

]

---
class: inverse, center, middle


.bold[*“Las familias felices son todas iguales, pero cada familia infeliz es infeliz a su manera.”*]

  -Leo Tolstoy

&lt;br&gt;

.bold[*“Tidy datasets son todas iguales, cada dataset desordenaro es desordenado a su manera.”*]

  – Hadley Wickham (creador de Tidyverse)


---
## Bases de datos ordenadas ("tidy") 


```
##    Value.Added.Agriculture..by.country..1870.1938..indices..1913.100.    X  X.1
## 1                                                                     1800 1801
## 2                                                           Argentina          
## 3                                                           Australia          
## 4                                                             Austria          
## 5                                                             Hungary          
## 6                                                             Belgium          
## 7                                                              Canada          
## 8                                                               Chile          
## 9                                                             Denmark          
## 10                                                            Finland          
## 11                                                             France          
## 12                                                            Germany          
## 13                                                             Greece          
## 14                                                              India          
## 15                                                          Indonesia          
## 16                                                              Italy          
## 17                                                              Japan          
## 18                                                        Netherlands          
## 19                                                           Portugal          
## 20                                                             Russia          
## 21                                                              Spain          
## 22                                                             Sweden 25,7 21,0
## 23                                                        Switzerland          
## 24                                                                 UK          
## 25                                                                USA          
## 26                                                            Uruguay          
##     X.2  X.3  X.4  X.5  X.6  X.7  X.8  X.9 X.10 X.11 X.12 X.13 X.14 X.15 X.16
## 1  1802 1803 1804 1805 1806 1807 1808 1809 1810 1811 1812 1813 1814 1815 1816
## 2                                                                            
## 3                                                                            
## 4                                                                            
## 5                                                                            
## 6                                                                            
## 7                                                                            
## 8                                                                            
## 9                                                                            
## 10                                                                           
## 11                                                                  40,7 41,9
## 12                                                                           
## 13                                                                           
## 14                                                                           
## 15                                                                           
## 16                                                                           
## 17                                                                           
## 18                          42,5 36,4 44,5                          48,9 46,2
## 19                                                                           
## 20                                                                           
## 21                                                                           
## 22 22,7 23,0 22,7 25,6 25,1 24,1 24,1 22,4 26,1 27,7 25,9 22,5 25,3 28,1 28,6
## 23                                                                           
## 24                                                                           
## 25                                                                           
## 26                                                                           
##    X.17 X.18 X.19 X.20 X.21 X.22 X.23 X.24 X.25 X.26 X.27 X.28 X.29 X.30 X.31
## 1  1817 1818 1819 1820 1821 1822 1823 1824 1825 1826 1827 1828 1829 1830 1831
## 2                                                                            
## 3                                                          0,6  0,6  0,9  0,9
## 4                                                                            
## 5                                                                            
## 6                                                                            
## 7                                                                            
## 8                                                                            
## 9       27,5 27,7 27,4 28,5 28,2 28,7 29,4 30,2 29,5 30,0 30,6 30,0 30,7 30,4
## 10                                                                           
## 11 45,9 44,6 50,5 46,9 51,7 47,5 52,0 53,1 48,2 49,9 49,4 51,3 52,9 51,8 53,8
## 12                                                                           
## 13                                                                           
## 14                                                                           
## 15                                                                           
## 16                                                                           
## 17                                                                           
## 18 42,6 45,0 46,9 51,8 50,2 50,1 51,3 54,7 54,4 52,1 53,3 53,0 52,7 45,4 51,5
## 19                                                                           
## 20                                                                           
## 21                                                                           
## 22 27,8 25,0 25,0 27,6 29,9 32,4 33,3 34,2 35,0 34,7 30,4 34,8 36,4 35,1 33,8
## 23                                                                           
## 24                                                                           
## 25                                                                           
## 26                                                                           
##    X.32 X.33 X.34 X.35 X.36 X.37 X.38 X.39 X.40 X.41 X.42 X.43 X.44 X.45 X.46
## 1  1832 1833 1834 1835 1836 1837 1838 1839 1840 1841 1842 1843 1844 1845 1846
## 2                                                                            
## 3   1,0  1,1  1,4  2,1  2,1  2,0  1,9  1,7  2,5  2,2  1,9  2,2  2,4  2,7  3,1
## 4                                                                            
## 5                                                                            
## 6                                                                            
## 7                                                                            
## 8                                                                            
## 9  30,2 30,8 31,9 31,0 31,3 32,0 32,1 33,4 34,1 33,3 33,2 34,6 36,2 37,0 38,7
## 10                                                                           
## 11 59,6 55,6 55,7 57,6 54,9 57,0 59,6 57,9 62,5 62,5 59,9 63,7 67,3 61,2 59,2
## 12                                                                           
## 13                                                                           
## 14                                                                           
## 15                                                                           
## 16                                                                           
## 17                                                                           
## 18 54,4 54,7 54,9 58,7 61,8 62,8 61,5 62,6 64,1 60,6 61,7 63,4 62,8 56,7 56,0
## 19                                                                           
## 20                                                                           
## 21                                                                           
## 22 32,8 36,3 38,1 37,9 38,9 38,4 34,8 36,1 38,5 38,1 35,4 37,4 41,1 43,0 38,4
## 23                                                                           
## 24                                                                           
## 25                                                                           
## 26                                                                           
##    X.47  X.48 X.49 X.50 X.51 X.52 X.53 X.54 X.55 X.56  X.57  X.58  X.59  X.60
## 1  1847  1848 1849 1850 1851 1852 1853 1854 1855 1856  1857  1858  1859  1860
## 2                                                                            
## 3   3,5   4,5  4,5  4,7  5,8  3,6  4,5  4,7  6,3  8,8   7,8   7,8  10,7  10,9
## 4                                                                            
## 5                                                                            
## 6                                                                            
## 7                                                                            
## 8                                                                        34,3
## 9  37,1  38,9 40,8 41,7 40,7 42,1 42,5 43,1 50,9 42,0  42,6  42,5  45,9  44,6
## 10                                                                       46,0
## 11 75,1  73,1 70,2 70,2 68,1 71,9 59,2 66,7 61,6 65,4  76,2  82,4  70,5  78,2
## 12                 38,9 37,3 38,2 37,5 39,2 36,5 41,5  43,8  42,8  43,3  46,6
## 13       16,6 17,5 18,4 21,2 18,4 19,3 21,1 18,4 21,1  25,7  25,7  26,6  24,7
## 14                                                                           
## 15                                                                           
## 16                                                                           
## 17                                                                           
## 18 60,8  62,5 66,5 68,4 69,7 68,3 65,0 69,1 66,9 74,7  72,3  69,3  69,7  71,6
## 19      102,1 86,2 84,0 92,5 90,2 88,4 80,1 94,7 69,2  80,4  74,7  71,2  73,0
## 20                                                                           
## 21                 57,6 58,9 60,4 62,4 64,6 70,7 63,3  57,4  58,0  61,7  64,5
## 22 39,5  41,1 44,7 44,9 41,2 39,4 40,1 41,6 45,0 41,8  44,4  50,8  54,5  55,8
## 23                                                                           
## 24                                          99,3 99,3 100,0 100,0 100,7 100,7
## 25                                                                           
## 26                                                                           
##     X.61  X.62  X.63  X.64  X.65  X.66  X.67  X.68  X.69  X.70  X.71 X.72  X.73
## 1   1861  1862  1863  1864  1865  1866  1867  1868  1869  1870  1871 1872  1873
## 2                                                          8,5   8,8  9,2   9,5
## 3   12,6  13,1  13,6  14,7  15,2  18,5  17,3  18,8  21,1  20,5  21,7 22,4  21,4
## 4                                                         54,5  55,5 55,1  53,6
## 5                                                         40,8  37,8 37,5  37,3
## 6                                 77,9  75,6  82,0  79,0  77,7  70,0 83,5  74,5
## 7                                                         28,9  29,0 28,2  29,9
## 8   35,3  34,1  37,9  38,1  39,8  40,2  39,5  42,0  44,6  44,0  48,1 47,7  54,8
## 9   45,6  45,7  48,1  44,8  51,3  51,0  49,3  47,0  49,2  54,1  53,4 56,4  54,7
## 10  45,2  38,5  44,0  46,0  42,4  45,8  36,5  44,8  50,3  54,0  52,9 53,8  57,2
## 11  68,8  84,3  86,1  86,4  81,8  79,9  69,9  82,1  85,7  81,1  76,8 82,3  71,5
## 12  43,2  47,8  51,2  53,2  51,3  50,8  49,3  53,8  51,2  50,8  50,1 51,6  52,3
## 13  26,6  26,5  26,5  28,6  27,7  27,7  31,1  31,1  28,5  30,2  33,6 31,0  37,0
## 14                                            68,4  69,4  70,4  71,5 72,6  72,7
## 15                                                        45,3  46,2 47,1  47,9
## 16  55,2  56,8  58,7  57,3  61,3  63,0  56,7  57,6  59,4  63,1  61,0 59,4  58,5
## 17                                                        48,7  49,0 49,3  49,6
## 18  62,6  76,6  79,2  82,2  80,3  75,6  71,8  76,0  83,5  81,0  79,2 82,3  78,7
## 19  74,1  76,8  69,0  72,5  81,4  80,4  83,6  83,3  83,9  85,9  79,3 78,5  79,8
## 20                                                        38,9  34,6 34,5  36,5
## 21  64,5  65,7  67,2  67,5  63,2  72,0  69,7  56,6  60,0  62,6  67,6 84,2  89,8
## 22  53,8  47,4  55,0  55,1  58,5  54,1  58,5  42,9  51,6  66,8  69,5 66,8  64,4
## 23                                                        71,0  73,2 62,1  67,5
## 24 101,5 101,5 102,1 102,1 102,9 103,6 100,7 107,8 103,6 107,2 104,3 99,3 102,1
## 25                                                  36,0  38,8  39,6 41,5  42,2
## 26                                                        29,1  30,5 37,9  39,5
##     X.74  X.75  X.76 X.77  X.78 X.79  X.80  X.81 X.82  X.83  X.84  X.85  X.86
## 1   1874  1875  1876 1877  1878 1879  1880  1881 1882  1883  1884  1885  1886
## 2    9,9  10,3  11,1 12,1  11,7 12,6  12,4  13,1 16,1  17,7  19,0  20,5  21,5
## 3   25,8  26,3  27,8 29,0  29,9 33,0  33,0  32,0 34,5  40,3  38,5  36,1  40,3
## 4   60,3  59,1  59,4 63,1  68,0 59,0  60,6  63,7 62,5  63,6  66,7  68,5  68,8
## 5   37,4  39,5  37,3 44,8  44,7 46,2  50,3  55,8 64,2  59,0  62,0  62,5  59,8
## 6   86,0  77,3  78,4 78,4  80,6 75,1  81,4  83,9 83,5  82,7  82,5  84,4  86,0
## 7   30,6  27,4  29,3 30,9  28,9 37,4  34,9  43,1 39,4  35,1  33,1  36,8  37,8
## 8   48,7  50,2  47,3 42,2  43,5 54,2  57,2  59,8 62,0  55,8  57,0  54,8  52,3
## 9   55,3  53,9  54,7 50,7  54,4 55,6  56,8  55,8 57,7  58,1  55,8  54,0  59,3
## 10  56,9  57,8  60,0 55,3  56,8 58,2  58,5  52,7 60,3  65,1  63,6  65,2  71,0
## 11  89,6  91,3  75,7 82,1  79,4 67,6  75,0  76,8 81,6  82,0  82,1  80,8  79,0
## 12  59,0  58,7  56,3 56,3  61,5 57,3  57,2  58,1 59,6  62,8  63,9  67,0  67,0
## 13  37,0  36,1  37,0 37,8  42,1 42,9  42,1  36,8 39,5  39,5  46,3  46,3  44,2
## 14  72,7  72,8  72,9 72,9  73,0 73,0  73,1  73,2 78,4  78,3  78,2  82,4  79,1
## 15  48,5  48,9  49,2 49,8  50,2 50,7  51,6  58,2 54,1  52,4  59,6  60,9  60,3
## 16  63,9  62,7  59,7 60,6  64,8 64,8  66,2  67,7 69,0  69,6  65,6  67,6  71,2
## 17  49,8  52,0  50,5 52,2  49,3 56,1  56,5  54,8 57,5  57,8  54,8  62,9  66,9
## 18  81,4  84,3  82,2 79,9  78,5 70,0  81,2  77,1 81,3  78,8  84,3  84,2  86,7
## 19  84,0  86,1  86,1 84,2  82,3 83,8  89,0  89,6 89,9  89,4 103,4 102,0 107,0
## 20  40,9  35,1  35,8 41,0  41,6 39,5  36,6  40,6 41,6  42,0  42,9  38,5  37,5
## 21  75,2  78,0  82,8 95,7  88,8 77,6  87,1  85,0 84,0  84,9  87,1  80,6  79,1
## 22  66,3  61,8  69,6 63,9  62,4 75,3  69,5  67,2 62,3  72,7  67,1  71,4  69,4
## 23  83,1  84,8  88,1 81,9  86,4 84,3  84,6  88,4 78,9  84,7  95,1 103,5  95,1
## 24 110,0 110,7 104,3 95,0 102,9 82,8 100,0 100,0 95,0 101,5 103,6 100,7 104,3
## 25  42,2  44,3  47,8 52,4  55,2 56,2  60,3  55,9 60,5  61,8  65,4  65,3  65,4
## 26  35,4  28,2  33,9 33,5  39,6 33,1  39,7  35,1 40,4  50,2  47,9  49,6  52,6
##     X.87  X.88  X.89  X.90  X.91  X.92  X.93  X.94  X.95  X.96  X.97  X.98
## 1   1887  1888  1889  1890  1891  1892  1893  1894  1895  1896  1897  1898
## 2   23,8  26,0  23,0  25,3  28,4  31,8  33,6  41,6  47,7  45,5  38,1  38,2
## 3   44,2  39,4  47,7  46,8  50,3  55,3  58,0  58,2  55,3  54,4  55,3  58,5
## 4   72,1  71,8  67,9  72,8  71,2  75,8  70,2  77,5  76,3  74,9  73,4  81,0
## 5   65,0  66,2  59,8  65,8  67,9  65,7  69,4  64,5  76,0  73,7  63,6  73,5
## 6   86,6  82,5  88,5  87,8  85,1  89,5  90,9  89,5  93,4  91,1 100,4  98,2
## 7   43,2  38,8  39,8  44,8  43,4  43,2  42,9  40,4  42,6  43,8  55,4  50,4
## 8   50,1  41,1  36,4  38,6  50,4  62,8  68,7  54,3  62,3  60,7  67,8  74,2
## 9   60,3  56,4  58,2  65,3  69,8  67,6  65,2  63,0  69,1  70,7  53,5  65,0
## 10  72,0  72,7  74,9  78,4  74,6  67,3  73,7  81,4  89,4  92,8  93,4  93,0
## 11  79,2  79,1  78,5  83,2  80,6  83,7  86,7  91,2  87,0  90,5  79,6  88,2
## 12  67,8  70,2  66,0  68,6  64,2  69,8  75,9  74,4  76,4  80,7  80,0  82,4
## 13  53,0  53,7  49,6  48,2  44,1  45,4  52,9  51,5  50,8  58,2  44,0  58,1
## 14  84,9  86,6  83,6  89,9  77,3  86,8  89,7  91,3  87,6  77,5  99,4  99,5
## 15  59,7  58,8  58,5  56,5  57,8  63,2  65,3  65,2  65,8  65,1  67,9  66,1
## 16  72,1  70,8  67,7  70,5  74,3  74,1  76,5  76,5  77,9  78,7  78,6  78,5
## 17  68,5  64,6  58,0  73,3  66,7  70,3  65,1  74,7  74,0  65,5  63,6  84,9
## 18  88,7  84,4  90,1  81,6  77,1  82,9  82,8  81,3  86,4  91,4  88,5  91,9
## 19 120,2 119,2 119,1 116,3 117,1 117,9 104,3 108,6 117,2 121,1 121,6 130,8
## 20  46,5  48,7  39,5  43,9  34,8  43,7  59,1  60,6  60,2  64,0  54,1  64,2
## 21  74,9  81,8  77,8  75,3  76,5  88,6  79,1  83,3  80,7  65,2  78,9  85,0
## 22  68,1  70,5  64,8  66,0  76,4  73,5  78,4  75,7  78,8  78,3  79,4  81,6
## 23  95,4  96,0  86,4  96,7  76,3  99,0  94,4  83,3  87,0  89,9  93,5  95,6
## 24  97,9 100,0 102,1 103,6 106,4 102,9  98,7 100,7  99,3  99,3  96,4 100,7
## 25  64,5  66,7  71,3  70,1  73,0  69,1  67,1  69,5  74,1  79,8  86,0  89,9
## 26  45,7  59,1  58,0  49,1  53,9  54,3  60,3  80,7  78,1  73,0  73,0  68,4
##     X.99 X.100 X.101 X.102 X.103 X.104 X.105 X.106 X.107 X.108 X.109 X.110
## 1   1899  1900  1901  1902  1903  1904  1905  1906  1907  1908  1909  1910
## 2   49,8  45,6  53,5  47,8  66,6  75,0  75,4  74,7  68,7  88,8  85,2  78,7
## 3   58,9  61,4  61,1  48,1  67,4  57,3  68,4  74,1  71,4  78,9  89,1  96,8
## 4   84,4  80,8  84,3  85,0  83,0  82,8  93,8  96,7  96,9  99,4  99,6  96,9
## 5   77,0  78,9  76,6  83,1  88,4  68,0  83,7  96,8  85,3  86,7  89,8  98,8
## 6   93,6 100,1  96,8  99,8  95,8 101,9  99,2  98,8 103,7 107,9 103,2 103,6
## 7   54,5  53,4  62,9  68,7  62,5  61,4  69,1  70,2  77,9  65,1  78,5  78,2
## 8   71,7  63,0  72,4  81,6  65,0  75,7  63,8  64,6  67,8  78,2  73,0  79,7
## 9   65,3  72,6  77,1  76,0  85,5  85,6  84,6  80,7  86,3  90,7  90,7  96,0
## 10  81,6  85,6  86,4  78,3  85,0  87,5  91,0  91,0  95,2  94,1  97,5  93,6
## 11  94,7 100,1  94,5  90,1  91,0  95,9  95,8  93,1 100,9 100,2 101,1  85,4
## 12  85,7  88,7  83,2  85,0  89,3  92,8  91,2  89,9  89,9  94,8  92,2  93,7
## 13  53,4  50,7  52,0  66,1  62,7  64,7  69,4  67,3  70,0  68,6  73,3  67,2
## 14  87,8  91,5  88,8  98,5  98,6  96,3  94,6  99,4  90,1  93,9 109,2 109,1
## 15  72,3  74,1  73,4  71,3  76,1  77,5  78,8  82,9  84,6  82,6  87,8  93,7
## 16  78,3  80,4  81,6  82,6  84,1  86,7  87,9  89,5  92,5  92,0  91,7  89,4
## 17  73,5  77,6  86,3  70,8  85,4  92,0  72,7  87,6  93,6  97,7  96,1  88,0
## 18  91,2  93,6  98,0  96,9  90,7  94,1  96,9  95,8  93,0  91,1  97,4 102,7
## 19 127,3 125,2 139,0 145,4 129,1 133,7 126,2 124,9 116,8 137,9 131,0 120,1
## 20  59,9  62,1  55,0  74,5  72,1  74,5  69,0  66,7  73,5  73,8  79,8  84,0
## 21  80,3  82,9  98,7  89,6  88,6  85,4  85,5  95,5  95,8  99,0 107,7  91,4
## 22  81,2  74,3  84,2  76,8  78,5  80,4  70,4  79,4  93,1  92,9 100,9  97,8
## 23  91,1 127,8  93,3  93,6  84,4  99,6  89,5 107,1  92,6 105,1 100,7 101,0
## 24  97,9  95,8  97,2 100,7  92,2  97,2  98,7  92,2 100,0 102,9 105,0 103,6
## 25  89,8  90,6  89,6  88,3  90,6  92,5  93,0  97,7  92,4  93,6  90,9  92,6
## 26  62,1  62,8  67,7  81,0  82,2  85,8  70,4  81,4  88,9  97,7  99,5  95,8
##    X.111 X.112 X.113 X.114 X.115 X.116 X.117 X.118 X.119 X.120 X.121 X.122
## 1   1911  1912  1913  1914  1915  1916  1917  1918  1919  1920  1921  1922
## 2   67,2 101,5   100  90,4 109,1  92,8  60,6 107,4 105,0 114,7 110,2 111,0
## 3   91,8  94,1   100  91,0  94,8 106,1  98,0  92,7  88,8  97,8 109,8 110,4
## 4   94,5 100,5   100  86,6  75,7  68,4  51,9              66,0  72,2  75,5
## 5   92,9 100,0   100                                      75,7  78,5  82,1
## 6   95,8  95,7   100                                71,0  73,4  74,1  71,0
## 7   89,2  90,4   100  94,2 116,0 121,4 112,5  94,2  96,0  93,4  66,5  98,7
## 8   77,8  91,7   100  92,4 101,6 104,3  98,8 100,5  97,1  92,7 102,3 105,1
## 9  100,1  95,9   100 116,4  92,1 101,9  99,5  77,0  68,9  82,2  93,9 104,4
## 10  92,0  98,8   100 101,1  97,8  95,1  95,1  88,9  92,2 104,4 109,0 108,6
## 11  96,1 103,2   100                                      91,1  92,1  98,9
## 12  92,4  91,8   100                                      62,7  65,0  65,0
## 13  96,7  89,3   100  75,4  71,2  75,0  72,8  76,7  67,1  60,2  50,6  57,4
## 14 105,2 104,5   100 105,6 108,2 113,0 111,5  89,5 111,2  94,6 107,5 110,6
## 15  98,5  98,0   100 101,3 103,5 103,4 106,8 112,4 116,5 109,4 105,9 115,2
## 16  90,6  93,7   100  91,6  83,2  89,6  89,0  90,9  87,1  93,2  91,7  96,8
## 17  98,5  99,7   100 105,4 107,7 115,1 109,1 109,2 118,8 114,6 112,9 116,6
## 18 105,8 101,9   100 109,2 104,0 106,0 113,6  95,8  87,3 105,1 117,0 127,0
## 19 130,8 105,8   100 105,0  92,5  90,5  88,7  89,1  88,6  88,8  91,1 112,6
## 20  72,6  91,3   100                                      52,9  47,4  59,1
## 21 106,0  88,6   100  94,3 104,1 110,5 110,7 109,6 110,9 116,0 113,8 117,7
## 22  97,1  95,5   100 101,3  94,8  97,3  94,6  85,2  86,3  95,0  97,1 106,9
## 23  97,8 102,9   100 112,7 115,8 106,1 113,5 107,9 106,8  98,6  96,0 125,0
## 24 101,5 100,0   100                                      93,0  93,6  95,5
## 25  99,4 100,2   100  96,8 105,7 104,6  99,4 104,5 108,2  91,8 101,3  99,6
## 26  87,4 118,1   100  85,0  79,0  88,7  94,8 129,2 119,6  98,2 137,4 139,6
##    X.123 X.124 X.125 X.126 X.127 X.128 X.129 X.130 X.131 X.132 X.133 X.134
## 1   1923  1924  1925  1926  1927  1928  1929  1930  1931  1932  1933  1934
## 2  121,0 147,0 125,5 150,4 155,6 161,4 165,1 134,0 162,0 152,6 149,6 160,1
## 3  109,5 119,7 123,1 122,9 124,6 126,7 128,3 133,9 144,4 150,1 153,0 147,1
## 4   80,9  83,9  96,5  93,7 101,1 107,2 105,1 101,9  98,9 108,4 109,4  99,9
## 5   86,7  89,3 100,7 101,2  98,9 108,1 112,0 110,1 107,0  98,0 102,2 102,4
## 6   78,4  78,3  81,9  85,2  78,8  89,4  85,7  86,3  90,2 100,5 102,5  91,7
## 7  114,5 125,5 122,3 111,4 109,5 118,0  88,5  99,1  80,1  87,3  69,6  81,0
## 8  109,9 110,0 103,2 107,5 115,0 143,9 137,7 127,7 117,0 114,2 146,4 160,9
## 9  117,1 121,3 116,6 123,6 128,3 136,9 151,7 161,6 161,2 174,4 169,5 162,9
## 10  99,9 100,3 105,9 100,3 106,1  99,0 102,2 113,0 115,1 118,1 118,0 129,7
## 11  97,3 106,4 107,7  95,9 105,7 105,6 116,3 101,0 109,1 110,3 113,6 120,7
## 12  66,9  67,6  72,5  69,9  84,3  90,7  86,7  94,8  99,0  90,6 106,7  98,2
## 13  59,0  71,8  71,1  76,0  75,3  81,4  76,8  80,4  77,4  84,9  95,5 100,4
## 14 105,3 107,6 105,4 107,1 104,5 107,7 111,0 111,5 110,7 110,6 110,2 110,5
## 15 116,5 124,6 126,8 132,6 142,1 145,5 140,8 147,5 145,7 147,0 142,9 135,9
## 16 106,0 100,5 107,9 108,4  98,0 106,4 110,4  97,3 101,0 110,4  99,3  93,9
## 17 107,8 112,4 120,5 111,6 122,6 119,2 120,0 128,3 112,6 122,3 142,7 113,3
## 18 120,5 125,7 130,8 142,0 144,2 153,1 144,4 158,3 158,0 158,9 152,2 171,4
## 19 114,0 102,1 128,6 108,7 150,1 108,5 141,2 146,8 162,4 176,2 177,9 193,8
## 20  67,7  70,8  88,0  94,6  99,8 101,3 108,8 105,4  97,2  84,7  90,3  91,4
## 21 110,4 110,5 122,3 111,3 129,9 111,6 134,4 115,7 124,0 137,7 122,9 137,5
## 22 100,1 104,1  92,2 113,4 108,4 103,0 112,3 117,3 133,5 124,7 142,3 127,8
## 23 112,9 107,9 113,4 110,4 113,4 114,6 123,4 107,9 123,4 121,3 122,7 136,0
## 24  95,9  93,0  98,8 101,8 103,6 108,2 109,2 110,2 101,9 106,7 116,1 123,1
## 25 102,7 106,7 107,1 110,2 115,4 109,0 113,7 108,6 115,8 114,6 119,2 112,3
## 26 123,2 154,6 146,7 153,8 172,6 204,9 166,5 229,1 185,6 233,6 134,2 246,7
##    X.135 X.136 X.137 X.138
## 1   1935  1936  1937  1938
## 2  183,0 167,3 173,8 155,6
## 3  143,7 144,9 152,9 154,4
## 4   92,7 100,9 109,6 132,8
## 5  101,5 110,9 108,4 113,0
## 6   96,6  90,5  90,0  93,6
## 7   86,2  74,7  75,1  98,5
## 8  133,7 138,5 143,3 147,7
## 9  159,5 161,6 162,2 168,4
## 10 131,7 131,4 140,4 142,0
## 11 113,4 106,1 108,1 120,2
## 12  94,2 108,3  95,8 102,8
## 13 109,1 102,2 125,8 118,3
## 14 109,6 116,8 113,4 105,9
## 15 141,4 149,6 161,5 161,3
## 16 102,7  92,2 104,7 105,8
## 17 120,4 134,1 135,0 127,6
## 18 166,5 163,4 156,5 171,9
## 19 167,4 132,5 180,4 183,7
## 20 101,3  88,3 122,6 105,6
## 21 135,8  90,8  96,8  91,5
## 22 126,6 124,3 121,1 121,6
## 23 135,7 116,1 128,7 128,7
## 24 127,3 128,4 124,0 123,5
## 25 101,1 111,3 106,9 118,7
## 26 192,5 231,2 428,6 452,2
```

---
class: inverse, center, middle

##tidyr::complete()

---
## Valores perdidos implícitos



```
## # A tibble: 2,100 × 3
##    country     year  added_value
##    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      
##  1 Sweden      1800  25,7       
##  2 Sweden      1801  21,0       
##  3 Sweden      1802  22,7       
##  4 Sweden      1803  23,0       
##  5 Sweden      1804  22,7       
##  6 Sweden      1805  25,6       
##  7 Sweden      1806  25,1       
##  8 Netherlands 1807  42,5       
##  9 Sweden      1807  24,1       
## 10 Netherlands 1808  36,4       
## # ℹ 2,090 more rows
```

&lt;br&gt;
--

- Diferente número de años disponibles para cada país

---
## Valores perdidos implícitos

- Datos contienen valores perdidos "implícitos"

- `complete()` valores perdidos "implícitos" en valores perdidos "explícitos"

--

.pull-left[

``` r
va_data  &lt;- 
  va_data %&gt;% mutate(added_value =  gsub(",", ".", added_value) ) %&gt;%
     mutate(added_value =  as.numeric(added_value) )

va_data 
```

```
## # A tibble: 2,100 × 3
##    country     year  added_value
##    &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
##  1 Sweden      1800         25.7
##  2 Sweden      1801         21  
##  3 Sweden      1802         22.7
##  4 Sweden      1803         23  
##  5 Sweden      1804         22.7
##  6 Sweden      1805         25.6
##  7 Sweden      1806         25.1
##  8 Netherlands 1807         42.5
##  9 Sweden      1807         24.1
## 10 Netherlands 1808         36.4
## # ℹ 2,090 more rows
```
]

--

.pull-right[

``` r
*va_data %&gt;% complete(country,year)
```

```
## # A tibble: 3,475 × 3
##    country   year  added_value
##    &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
##  1 Argentina 1800           NA
##  2 Argentina 1801           NA
##  3 Argentina 1802           NA
##  4 Argentina 1803           NA
##  5 Argentina 1804           NA
##  6 Argentina 1805           NA
##  7 Argentina 1806           NA
##  8 Argentina 1807           NA
##  9 Argentina 1808           NA
## 10 Argentina 1809           NA
## # ℹ 3,465 more rows
```
]

---
## Completar datos incompletos

- También es posible hacer asignar un valor a  valores perdidos "implícitos".

--

.pull-left[

``` r
va_data 
```

```
## # A tibble: 2,100 × 3
##    country     year  added_value
##    &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
##  1 Sweden      1800         25.7
##  2 Sweden      1801         21  
##  3 Sweden      1802         22.7
##  4 Sweden      1803         23  
##  5 Sweden      1804         22.7
##  6 Sweden      1805         25.6
##  7 Sweden      1806         25.1
##  8 Netherlands 1807         42.5
##  9 Sweden      1807         24.1
## 10 Netherlands 1808         36.4
## # ℹ 2,090 more rows
```
]

--

.pull-right[

``` r
va_data %&gt;% complete(country,year, 
*           fill = list(added_value = 0))
```

```
## # A tibble: 3,475 × 3
##    country   year  added_value
##    &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
##  1 Argentina 1800            0
##  2 Argentina 1801            0
##  3 Argentina 1802            0
##  4 Argentina 1803            0
##  5 Argentina 1804            0
##  6 Argentina 1805            0
##  7 Argentina 1806            0
##  8 Argentina 1807            0
##  9 Argentina 1808            0
## 10 Argentina 1809            0
## # ℹ 3,465 more rows
```
]

---
class: inverse, center, middle

##tidyr::fill()


---
## Completa valores perdidos


&lt;br&gt;

- `fill()` rellena los valores perdidos en columna selecciona usando datos de la observación siguiente o anterior.

--

- Útil cuando en bases de datos los valores no se repiten y la variable sólo tiene registro cuando valores cambian.

--

- En dichos casos los valores perdidos significan, implícitamente, que no hay cambio en los valores de una variable.




---
## Completa valores perdidos

.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter(country=="Austria", year &gt; 1913)
```

```
## # A tibble: 25 × 3
##    country year  added_value
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
##  1 Austria 1914         86.6
##  2 Austria 1915         75.7
##  3 Austria 1916         68.4
##  4 Austria 1917         51.9
##  5 Austria 1918         NA  
##  6 Austria 1919         NA  
##  7 Austria 1920         66  
##  8 Austria 1921         72.2
##  9 Austria 1922         75.5
## 10 Austria 1923         80.9
## # ℹ 15 more rows
```
]

--

.pull-right[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter(country=="Austria", year &gt; 1913) %&gt;%
* fill(added_value, .direction = c("down"))
```

```
## # A tibble: 25 × 3
##    country year  added_value
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
##  1 Austria 1914         86.6
##  2 Austria 1915         75.7
##  3 Austria 1916         68.4
##  4 Austria 1917         51.9
##  5 Austria 1918         51.9
##  6 Austria 1919         51.9
##  7 Austria 1920         66  
##  8 Austria 1921         72.2
##  9 Austria 1922         75.5
## 10 Austria 1923         80.9
## # ℹ 15 more rows
```
]

---
## Completa valores perdidos

.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter(country=="Austria", year &gt; 1913)
```

```
## # A tibble: 25 × 3
##    country year  added_value
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
##  1 Austria 1914         86.6
##  2 Austria 1915         75.7
##  3 Austria 1916         68.4
##  4 Austria 1917         51.9
##  5 Austria 1918         NA  
##  6 Austria 1919         NA  
##  7 Austria 1920         66  
##  8 Austria 1921         72.2
##  9 Austria 1922         75.5
## 10 Austria 1923         80.9
## # ℹ 15 more rows
```
]

--

.pull-right[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter(country=="Austria", year &gt; 1913) %&gt;%
* fill(added_value, .direction = c("up"))
```

```
## # A tibble: 25 × 3
##    country year  added_value
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
##  1 Austria 1914         86.6
##  2 Austria 1915         75.7
##  3 Austria 1916         68.4
##  4 Austria 1917         51.9
##  5 Austria 1918         66  
##  6 Austria 1919         66  
##  7 Austria 1920         66  
##  8 Austria 1921         72.2
##  9 Austria 1922         75.5
## 10 Austria 1923         80.9
## # ℹ 15 more rows
```
]

---
## Completa valores by group


.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter( (country=="Argentina" &amp; year &gt; 1934) | (country=="Australia" &amp; year &lt; 1804) )
```

```
## # A tibble: 8 × 3
##   country   year  added_value
##   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
## 1 Argentina 1935         183 
## 2 Argentina 1936         167.
## 3 Argentina 1937         174.
## 4 Argentina 1938         156.
## 5 Australia 1800          NA 
## 6 Australia 1801          NA 
## 7 Australia 1802          NA 
## 8 Australia 1803          NA
```
]

--


.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter( (country=="Argentina" &amp; year &gt; 1934) | (country=="Australia" &amp; year &lt; 1804) ) %&gt;%
* fill(added_value, .direction = c("down"))
```

```
## # A tibble: 8 × 3
##   country   year  added_value
##   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
## 1 Argentina 1935         183 
## 2 Argentina 1936         167.
## 3 Argentina 1937         174.
## 4 Argentina 1938         156.
## 5 Australia 1800         156.
## 6 Australia 1801         156.
## 7 Australia 1802         156.
## 8 Australia 1803         156.
```
]

--

- Cuidado! Esto no es lo que buscamos. 

---
## Completa valores by group

Combinando `fill()` con `group_by()` podemos evitar el problema anterior:


.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter( (country=="Argentina" &amp; year &gt; 1934) | (country=="Australia" &amp; year &lt; 1804) ) %&gt;%
  fill(added_value, .direction = c("down")) 
```

```
## # A tibble: 8 × 3
##   country   year  added_value
##   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
## 1 Argentina 1935         183 
## 2 Argentina 1936         167.
## 3 Argentina 1937         174.
## 4 Argentina 1938         156.
## 5 Australia 1800         156.
## 6 Australia 1801         156.
## 7 Australia 1802         156.
## 8 Australia 1803         156.
```
]

--


.pull-left[

``` r
va_data %&gt;% complete(country,year) %&gt;% 
  filter( (country=="Argentina" &amp; year &gt; 1934) | (country=="Australia" &amp; year &lt; 1804) ) %&gt;%
* group_by(country) %&gt;%
* fill(added_value, .direction = c("down"))
```

```
## # A tibble: 8 × 3
## # Groups:   country [2]
##   country   year  added_value
##   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
## 1 Argentina 1935         183 
## 2 Argentina 1936         167.
## 3 Argentina 1937         174.
## 4 Argentina 1938         156.
## 5 Australia 1800          NA 
## 6 Australia 1801          NA 
## 7 Australia 1802          NA 
## 8 Australia 1803          NA
```
]

---
class: inverse, center, middle

##tidyr::drop_na()

---
## Remover valores perdidos controladamente



--
.pull-left[

``` r
dummy_data
```

```
## # A tibble: 25 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6    NA
##  2 Austria 1915         75.7    NA
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1918         NA      17
##  6 Austria 1919         NA       6
##  7 Austria 1920         66      13
##  8 Austria 1921         72.2    19
##  9 Austria 1922         75.5    32
## 10 Austria 1923         80.9    28
## # ℹ 15 more rows
```
]


.pull-left[
Remueve filas con valores perdidos en "cualquier" variable de la base de datos


``` r
*dummy_data %&gt;% drop_na()
```

```
## # A tibble: 21 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1916         68.4    20
##  2 Austria 1917         51.9     4
##  3 Austria 1920         66      13
##  4 Austria 1921         72.2    19
##  5 Austria 1922         75.5    32
##  6 Austria 1923         80.9    28
##  7 Austria 1924         83.9    22
##  8 Austria 1925         96.5    15
##  9 Austria 1926         93.7    24
## 10 Austria 1927        101.      7
## # ℹ 11 more rows
```
]

---
class: inverse, center, middle

##tidyr::drop_na()

---
## Remover valores perdidos controladamente

.pull-left[

``` r
dummy_data
```

```
## # A tibble: 25 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6    NA
##  2 Austria 1915         75.7    NA
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1918         NA      17
##  6 Austria 1919         NA       6
##  7 Austria 1920         66      13
##  8 Austria 1921         72.2    19
##  9 Austria 1922         75.5    32
## 10 Austria 1923         80.9    28
## # ℹ 15 more rows
```
]

--


.pull-left[
Remueve filas con valores perdidos una variable específica


``` r
*dummy_data %&gt;% drop_na(added_value)
```

```
## # A tibble: 23 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6    NA
##  2 Austria 1915         75.7    NA
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1920         66      13
##  6 Austria 1921         72.2    19
##  7 Austria 1922         75.5    32
##  8 Austria 1923         80.9    28
##  9 Austria 1924         83.9    22
## 10 Austria 1925         96.5    15
## # ℹ 13 more rows
```
]

---
## Remover valores perdidos controladamente

.pull-left[

``` r
dummy_data
```

```
## # A tibble: 25 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6    NA
##  2 Austria 1915         75.7    NA
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1918         NA      17
##  6 Austria 1919         NA       6
##  7 Austria 1920         66      13
##  8 Austria 1921         72.2    19
##  9 Austria 1922         75.5    32
## 10 Austria 1923         80.9    28
## # ℹ 15 more rows
```
]

--


.pull-left[
Remueve filas con valores perdidos en cualquier varible dentro de una selección de columnas (`starts_with()`, `ends_with()`, etc)


``` r
*dummy_data %&gt;% drop_na(ends_with("y"))
```

```
## # A tibble: 23 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1916         68.4    20
##  2 Austria 1917         51.9     4
##  3 Austria 1918         NA      17
##  4 Austria 1919         NA       6
##  5 Austria 1920         66      13
##  6 Austria 1921         72.2    19
##  7 Austria 1922         75.5    32
##  8 Austria 1923         80.9    28
##  9 Austria 1924         83.9    22
## 10 Austria 1925         96.5    15
## # ℹ 13 more rows
```
]



---
class: inverse, center, middle

##tidyr::replace_na()

---
## Reemplazar valores perdidos controladamente

.pull-left[

``` r
dummy_data
```

```
## # A tibble: 25 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6    NA
##  2 Austria 1915         75.7    NA
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1918         NA      17
##  6 Austria 1919         NA       6
##  7 Austria 1920         66      13
##  8 Austria 1921         72.2    19
##  9 Austria 1922         75.5    32
## 10 Austria 1923         80.9    28
## # ℹ 15 more rows
```
]

--

.pull-left[
Reemplazar valores perdidos con valores especificados para diferentes variables

``` r
dummy_data %&gt;% 
* replace_na(list(country = "Hola",
*                 added_value = 0,
*                 y = 999))
```

```
## # A tibble: 25 × 4
##    country year  added_value     y
##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
##  1 Austria 1914         86.6   999
##  2 Austria 1915         75.7   999
##  3 Austria 1916         68.4    20
##  4 Austria 1917         51.9     4
##  5 Austria 1918          0      17
##  6 Austria 1919          0       6
##  7 Austria 1920         66      13
##  8 Austria 1921         72.2    19
##  9 Austria 1922         75.5    32
## 10 Austria 1923         80.9    28
## # ℹ 15 more rows
```
]


---
class: fullscreen,left, top, top, text-azzurro
background-image: url("images/bicicleta.jpg")

.huge[#R se aprende]
.huge[#usando y]
.huge[#preguntando]

---

![](images/stack-exchange-search.png)

---
class: inverse, middle

Presentación y código en GitHub: &lt;https://github.com/mebucca/dar_soc4001&gt;

---
class: inverse, center, middle

.huge[
**Gracias!**
]

&lt;br&gt;
Mauricio Bucca &lt;br&gt;
https://mebucca.github.io/ &lt;br&gt;
github.com/mebucca





    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": true,
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
